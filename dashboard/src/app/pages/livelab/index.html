<div class="row" ng-cloak>
    <div class="col-xlg-7 col-lg-7 col-md-7 col-sm-7 col-xs-7">

        <div class="panel" ng-class="vm.microscope.panelClass">
            <div class="panel-heading clearfix" style="height: 44px;">

                <h3 class="panel-title" style="margin-bottom: 8px;">{{vm.microscope.name}} <span
                            style="text-transform: capitalize">{{vm.microscope.status}}</span> <span class="pull-right">{{vm.microscope.timePending/1000|number:0}} sec</span>
                </h3>

            </div>
            <div class="panel-body"
                 tour-step
                 tour-step-belongs-to="demo"
                 tour-step-title="Live view"
                 tour-step-content="In live mode, you can use a joystick to control the LEDs which should be turned ON with specific intensity (also indicated by yellow bars around the display with intensity value). Watch how euglenas respond as you move your joystick. One live experiment session lasts for 1 minute and you can run as many experiments as you want."
                 tour-step-order="0"
                 tour-step-placement="bottom"
                 tour-step-use-ui-router="true"
                 tour-step-scroll-offset="100"
                 tour-step-backdrop="true"
                 tour-step-append-to-body="true">
                <div class="microscope-wrapper">

                    <div class="video-section unselectable">

                        <div class="spacer left top unselectable"></div>
                        <div class="light top unselectable" ng-style="{'background-color':'rgba(255,255,0,'+ vm.leds.top/100 + ')' }">
                            <span>{{vm.leds.top|number:0}}%</span>
                        </div>
                        <div class="spacer right top unselectable"></div>
                        <div class="light left unselectable" ng-style="{'background-color':'rgba(255,255,0,'+ vm.leds.left/100 + ')' }">
                            <span>{{vm.leds.left|number:0}}%</span>
                        </div>

                        <div class="video-container unselectable">
                            <div style="color: #fff;font-weight: 600;font-size: 24px;float: right;position: relative;right: 12px;top: 12px;margin-bottom: -24px;    text-shadow: black;    text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.6);">
                                                        {{vm.microscope.magnification}}X
                                                    </div>
                            <img class="video unselectable" ng-src="{{vm.microscope.address}}" err-src="/assets/img/bpu-disabled.jpg" style="width:100%">
                            <div class="stylus-container unselectable">
                                <div id="stylus" class="unselectable"></div>
                            </div>
                            <div class="scale-section unselectable" ng-style="{'width': vm.magnification + 'px' }">
                                <div class="scale unselectable">
                                    <span class="scale-text unselectable">100 &mu;m</span>
                                </div>
                            </div>
                        </div>

                        <div class="light right unselectable" ng-style="{'background-color':'rgba(255,255,0,' + vm.leds.right/100 + ')' }">
                            <span>{{vm.leds.right|number:0}}%</span>
                        </div>
                        <div class="spacer left bottom unselectable"></div>
                        <div class="light bottom unselectable" ng-style="{'background-color':'rgba(255,255,0,'+ vm.leds.bottom/100 + ')' }">
                            <span>{{vm.leds.bottom|number:0}}%</span>
                        </div>
                        <div class="spacer right bottom unselectable"></div>

                    </div>

                    <!--<div class="microscope-footer">-->
                    <!--<div class="progress" ng-repeat="stat in microscope.statistics | orderBy:'name' ">-->
                    <!--<div class="progress-bar" role="progressbar" aria-valuenow="{{stat.value}}"-->
                    <!--aria-valuemin="0"-->
                    <!--aria-valuemax="{{stat.max}}" style="width: {{stat.percent|number}}%"-->
                    <!--ng-class="stat.class">-->
                    <!--<span>{{stat.name | uppercase}}</span>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--</div>-->
                </div>
            </div>

            <div class="panel-footer">
                <div class="btn-toolbar actions unselectable pull-right" style="margin-top: -8px">
                    <div class="btn-group">
                        <button class="btn btn-default btn-toggle" name="btn-toggle-draw">Toggle Draw</button>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-default btn-clear" name="btn-clear">Clear</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xlg-5 col-lg-5 col-md-5 col-sm-5 col-xs-5">
        <div class="panel unselectable" ng-class="vm.microscope.panelClass">
            <div class="panel-heading clearfix unselectable" style="height: 44px;">
                <h3 class="panel-title" style="margin-bottom: 8px;">Joystick</h3>
            </div>
            <div class="panel-body unselectable">
                <joystick debug="true" on-move="vm.onMove(event)" disabled="vm.disabled"></joystick>
            </div>
        </div>
    </div>
</div>